[toc]

## 进程理论基础

### 1.定义：程序在计算机中的一次运行

> + 程序是一个可执行的文件，是静态的占有磁盘
> + 进程是一个动态的过程描述，占有计算机运行程序，有一定的生命周期

### 2.系统中如何产生一个进程

1. 用户空间通过调用程序接口或者命令发起请求
2. 操作系统接收用户请求，开始创建进程
3. 操作系统调配计算机资源，确定进程状态
4. 操作系统将创建的进程提供给用户使用

### 3.进程基本概念

+ cpu时间片：如果一个进程占有CPU内核则称这个进程在cpu时间片上

+ PCB(进程控制块)：在内存中开辟的一块空间，用于存放进程的基本信息，也用于系统查找识别进程

+ 进程ID(PID):系统为每个进程分配一个大于0的证书，作为进程ID，每个进程ID不重复

  > Linux查看进程ID：ps -aux

+ 父子进程：系统中每一个进程(除了系统初始化进程)都有唯一的父进程，可以有0个或多个子进程。

> 查看进程树：pstree

+ 进程状态

  + 三态

    就绪态：进程具备执行条件，等待分配cpu资源

    运行态：进程占有cpu时间片正在运行

    等待态：进程暂时停止运行，让出cpu

+ 状态查看命令：ps -aux --> STAT列

  > S  等待态
  >
  > R  执行态
  >
  > D  等待态
  >
  > T  等待态
  >
  > Z  僵尸

  > <  有较高优先级
  >
  > N  优化级较低
  >
  > \+   前台进程
  >
  > s   会话组组长
  >
  > l   有多线程

+ 进程的运行特征

  1. 进程可以使用计算多核资源
  2. 进程是计算机分配资源的最小单位
  3. 进程之间的运行互不影响，各自独立
  4. 每个进程拥有独立的空间，各自使用自己空间资源



> pid = os.fork()
>
> 功能：创建新的进程
>
> 返回值：如果创建进程失败返回一个负数，如果成功则在原有进程中返回新进程的PID，在新进程中返回0

> 注意

```python
import os

#创建子进程
pid = os.fork()

if pid < 0:
    print('Create process faild')
#子进程执行部分    
elif pid == 0:
    print('The new process')
#父进程执行部分    
else:
    print('The old process')
#父子进程都会执行
print('Fork test over')
    
```

![](H:\图片\进程.png)

> :star:子进程是从fork的下一句开始执行（赋值语句）



